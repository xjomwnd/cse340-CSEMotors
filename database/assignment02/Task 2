--Database: 'cse340-CSEMotors', .public schema
--Assignment02, TASK02

-- Create client type data type.
DROP TYPE IF EXISTS public.account_type;
CREATE TYPE public.account_type AS ENUM('Client', 'Employee', 'Admin');

-- Table structure for table 'Classification'
CREATE TABLE public.classification (
    classification_id INT GENERATED BY DEFAULT AS IDENTITY,
    classification_name CHARACTER VARYING NOT NULL,
    CONSTRAINT classification_pk PRIMARY KEY(classification_id)
);

-- Table structure for table 'Account'
CREATE TABLE public.account (
    account_id INT GENERATED BY DEFAULT AS IDENTITY,
    first_name CHARACTER VARYING NOT NULL,
    last_name CHARACTER VARYING NOT NULL,
    email CHARACTER VARYING NOT NULL,
    password CHARACTER VARYING NOT NULL,
    account_type public.account_type NOT NULL DEFAULT 'Client',
    CONSTRAINT account_pk PRIMARY KEY(account_id)
);

-- Table structure for table 'Inventory'
CREATE TABLE IF NOT EXISTS public.inventory (
    inventory_id INT GENERATED BY DEFAULT AS IDENTITY,
    make CHARACTER VARYING NOT NULL,
    model CHARACTER VARYING NOT NULL,
    description TEXT,
    inv_image CHARACTER VARYING,
    inv_thumbnail CHARACTER VARYING,
    invalid BOOLEAN DEFAULT FALSE,
    classification_id INT,
    CONSTRAINT inventory_pk PRIMARY KEY (inventory_id),
    CONSTRAINT inventory_fk_classification FOREIGN KEY (classification_id) REFERENCES public.classification (classification_id)
);

-- Insert data into the 'classification' table
INSERT INTO public.classification (classification_name)
VALUES ('SUV'), ('Sedan'), ('Truck'), ('Sport');

-- Insert data into the 'account' table
INSERT INTO public.account (first_name, last_name, email, password, account_type)
VALUES ('John', 'Doe', 'john@example.com', 'password123', 'Admin'),
       ('Jane', 'Smith', 'jane@example.com', 'password456', 'Employee'),
       ('Mike', 'Johnson', 'mike@example.com', 'password789', 'Client');

-- Your script continues here...

-- You can add more table creations, data inserts, or other operations here.
